# Autonomy runtime config

# Enforce virtual-only development mode.
EXECUTION_MODE=virtual
ALLOW_NON_VIRTUAL_NETWORKS=false
# If true, autonomous dev scripts pause whenever telegram pending approvals exist.
PAUSE_ON_PENDING_APPROVALS=true
# If false, telegram controller never runs periodic health checks.
TELEGRAM_WATCHDOG_ENABLED=false
# If false, pending approvals do not add plan-review metadata messages.
TELEGRAM_AUTO_PLAN_REVIEW_ON_PENDING=false
# Cycle mode:
# - auto: kickoff once, then execution cycles
# - kickoff: force initial topic-selection cycle
# - execution: force continuation cycle from previous plan
CYCLE_MODE=auto
# Number of recent cycles included for execution-cycle requirements analysis context.
CYCLE_HISTORY_CYCLES=3

# Virtual chain endpoints only (edit later when your virtual network is finalized).
PRIMARY_RPC_URL=http://127.0.0.1:8545
SECONDARY_RPC_URL=http://127.0.0.1:9545

# Mainnet protection (comma-separated deny patterns).
NETWORK_DENY_PATTERNS=mainnet,eth-mainnet,arb1,base-mainnet,polygon-mainnet,bsc-mainnet,api.mainnet-beta.solana.com

# Untrusted external content quarantine.
EXTERNAL_CONTENT_QUARANTINE=true
# Allowed host list for externally referenced URLs (comma-separated, supports subdomains).
QUARANTINE_ALLOWED_HOSTS=chain.link,docs.chain.link,github.com,raw.githubusercontent.com,api.github.com,docs.tenderly.co,tenderly.co,docs.world.org,world.org,moltbook.com,www.moltbook.com
# Maximum number of URLs scanned from one text artifact.
QUARANTINE_MAX_URLS=40
# If true, quarantine block triggers 4-agent consensus and a Telegram human-approval request.
QUARANTINE_AUTO_REQUEST_ON_BLOCK=true
QUARANTINE_AGENT_CONSENSUS_REQUIRED=true
QUARANTINE_CONSENSUS_MIN=3

# Community discussion settings.
MOLTBOOK_SUBMOLT=cre-hackaton-rth2608
AUTO_POST_TO_MOLTBOOK=true
# If true, Moltbook post/comment content files must come from autonomy/state artifacts only.
MOLTBOOK_REQUIRE_STATE_ARTIFACTS_ONLY=true
# Hard limit for Moltbook post/comment content length.
MOLTBOOK_MAX_CONTENT_CHARS=12000
# Leader agent for consensus synthesis and final coordination outputs.
AGENT_LEADER=gemini
# If true, publish one kickoff discussion thread (leader post + 4 comments) when kickoff is LOCKED.
AUTO_MOLTBOOK_KICKOFF_DISCUSSION=true
# If true, every cycle posts 4 ACK comments (one per agent) on the final decision post.
AUTO_MOLTBOOK_CYCLE_COMMENTS=true
# If true, each cycle uses one feature-thread post and all agents interact in comments on that single post.
AUTO_MOLTBOOK_SINGLE_THREAD_MODE=true
# Minimum discussion rounds per cycle (legacy default).
AUTO_MOLTBOOK_DISCUSSION_ROUNDS=3
# If true, continue round-based discussion until leader judges consensus reached (bounded by max rounds).
AUTO_MOLTBOOK_UNTIL_CONSENSUS=true
# Maximum discussion rounds allowed when until-consensus mode is enabled.
AUTO_MOLTBOOK_MAX_DISCUSSION_ROUNDS=12
# If true, leader posts one checkpoint comment at the end of each round.
AUTO_MOLTBOOK_LEADER_ROUND_SUMMARIES=true
# Repo path used by kickoff discussion publisher.
AUTONOMY_REPO_PATH=workdirs/gemini
# If true, agent outputs are review/advice only (no direct code edits).
FEEDBACK_ONLY_MODE=true
# If true, sync each agent/<name> branch to latest origin/main at cycle start.
SYNC_AGENT_BRANCHES_FROM_MAIN=true
# If true, fail cycle when any agent branch sync fails.
SYNC_AGENT_BRANCHES_REQUIRED=true
# If true, kickoff discussion triggers only when origin/main kickoff is LOCKED.
MOLTBOOK_REQUIRE_MAIN_LOCKED=true
# If true, leader writes one cycle summary markdown in leader repo.
LEADER_CYCLE_SUMMARY_ENABLED=true
# If true, fail cycle when summary generation/commit/merge fails.
LEADER_CYCLE_SUMMARY_REQUIRED=true
# Relative output dir in leader repo.
LEADER_CYCLE_SUMMARY_DIR=coordination/cycle-summaries
# If true, summary commit is merged into main and pushed.
LEADER_CYCLE_SUMMARY_AUTO_MERGE_MAIN=true
# If true, send Telegram message containing summary markdown path/status/commit.
LEADER_CYCLE_SUMMARY_NOTIFY_TELEGRAM=true
# Prefix for temporary summary branch names.
LEADER_CYCLE_SUMMARY_PUSH_BRANCH_PREFIX=autonomy/cycle-summary
# Optional Moltbook comment API overrides.
# MOLTBOOK_COMMENT_ENDPOINT=https://www.moltbook.com/api/v1/comments
# MOLTBOOK_COMMENT_ENDPOINT_FALLBACK=https://www.moltbook.com/api/v1/posts/<post_id>/comments

# Local skills context source for run-cycle proposals
CHAINLINK_AGENT_SKILLS_DIR=autonomy/skills/chainlink-agent-skills
CHAINLINK_AGENT_SKILLS_REFERENCES_DIR=autonomy/skills/chainlink-agent-skills/cre-skills/references
CHAINLINK_AGENT_SKILLS_MAX_FILES=10
CHAINLINK_AGENT_SKILLS_MAX_LINES_PER_FILE=80
CHAINLINK_AGENT_SKILLS_MAX_CHARS=25000
# Lines of coordination/KICKOFF_PACK.md included in prompt context.
KICKOFF_PACK_MAX_LINES=220
# Cost policy used in planning prompts/decision output.
TENDERLY_PLAN=pro
LLM_BUDGET_OPENAI_USD=35
LLM_BUDGET_ANTHROPIC_USD=35
LLM_BUDGET_GOOGLE_USD=35
LLM_BUDGET_XAI_USD=35
OTHER_PAID_COST_BUDGET_USD=10
# If true, leader generates markdown summary for non-selected kickoff topics.
ALT_TOPICS_SUMMARY_ENABLED=true
# If true, commit/push alternative topic summary to git.
ALT_TOPICS_PUSH_ENABLED=true
# If true, cycle fails when summary push fails.
ALT_TOPICS_PUSH_REQUIRED=true
# Relative output dir in leader/planning repo for alternative topic summaries.
ALT_TOPICS_SUMMARY_DIR=coordination/topic-alternatives
# Optional branch override. Default: agent/<leader>
# ALT_TOPICS_PUSH_BRANCH=
